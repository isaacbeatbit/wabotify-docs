---
title: Whatsapp
description: Explicaci칩n del funcionamiento de los mensajes de Whatsapp por SDK.
---

import { LinkCard } from "@astrojs/starlight/components";

# Whatsapp

Explicaci칩n del funcionamiento de los mensajes de Whatsapp por SDK.

## Introducci칩n

Para trabajar con **WhatsApp**, es importante poder configurar el n칰mero en Plazbot. La configuraci칩n se realiza directamente con Meta, por lo que no deber칤a haber ning칰n problema durante el proceso. Tambi칠n podemos ayudarte a asociar el n칰mero a trav칠s de nuestros canales de comunicaci칩n, como support@wabotify.com o **Discord**.

<LinkCard
  title="Instalaci칩n de WhatsApp"
  href="/primeros-pasos/conectar-whatsapp-api/"
  description="Revisa como se instala el n칰mero de WhatsApp en Wabotify."
/>

## Envia Mensajes de Whatsapp

Esta funci칩n permite enviar mensajes sencillos de **WhatsApp**. Si quieres mantener un chat en tu plataforma, app u otro sitio web, esta funci칩n te permitir치 registrar los mensajes entrantes y salientes. Este mensaje sencillo se utiliza cuando la conversaci칩n con el cliente ya est치 activa. No podr치s enviar un mensaje sencillo si el cliente es nuevo o no te ha respondido en las 24 horas posteriores a tu 칰ltima conversaci칩n o en el plazo que le queda.

Tambi칠n te proporciono la documentaci칩n de Meta para que puedas revisar c칩mo funcionan sus mensajes, sus horarios y sus tarifas. 游녤游낖 [Meta Pricing and Conversation](https://developers.facebook.com/docs/whatsapp/pricing/)

```js
// Whatsapp message
const whatsapp = await message.onWhatsappMessage({
  message: "What features does Plazbot have?",
  to: "52123456789", //"sessionId12345" // sessionId
});
console.log("游눫 IA Response:", whatsapp);
```

---

## Send Whatsapp Conversation

Al enviar conversaciones de **WhatsApp**, es importante poder crear la plantilla en **Plazbot**. Secci칩n de **Marketing** -> **Plantillas**.

Actualmente enviamos plantillas sin variables; estamos desarrollando la posibilidad de enviar plantillas con variables. Recuerda que, al crear la plantilla, defines los archivos que se enviar치n, el tipo de plantilla, etc. Con esta funci칩n, solo env칤as el nombre de la plantilla y el servicio se encarga del resto.

**Uso b치sico:**

```js
const conversation = await message.onConversation({
  to: "52123456789",
  template: "welcome_plazbot",
});
```

**Uso completo:**

```js
const conversation = await message.onConversation({
  to: "1234567890",
  template: "promocion_especial",
  variablesBody: [
    { variable: "nombre", value: "Juan" },
    { variable: "producto", value: "Laptop" },
  ],
  variablesHeader: [{ variable: "codigo", value: "PROMO2025" }],
  file: {
    fileUrl: "https://storage-files.....image.png",
    fileName: "Imagen_ventas_1.png",
  },
});
```

---

## Registro de Webhook

Esta funci칩n te ayudar치 a mantener una conversaci칩n con tu usuario. Registra tu webhook y, cada vez que el cliente env칤e un mensaje de texto al n칰mero que configuraste, el mensaje y la informaci칩n de referencia se enviar치n a tu webhook. El webhook es solo para WhatsApp.

```js
await message.registerWebhook({
  number: "51966446311",
  webhookUrl: "https://hook.us1.make.com/xxxxxxxx",
});
```

---

## Eliminar Webhook

Eliminar el webhook del n칰mero configurado.

```js
await message.deleteWebhook({
  number: "51966446311",
});
```
